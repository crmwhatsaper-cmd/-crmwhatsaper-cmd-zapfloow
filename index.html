<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ZapFlow - Atendimento Multi-Agente</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
      tailwind.config = {
        theme: {
          extend: {
            colors: {
              whatsapp: {
                light: '#DCF8C6',
                DEFAULT: '#25D366',
                dark: '#128C7E',
                teal: '#075E54',
              },
              slate: {
                850: '#1e293b',
              }
            }
          }
        }
      }
    </script>
    <script>
      // Global Error Handler for Vercel Debugging
      window.addEventListener('error', function(e) {
        // Ignore resize observations errors which are benign
        if (e.message === 'ResizeObserver loop limit exceeded') return;
        
        const root = document.getElementById('root');
        if (root && (!root.innerHTML || root.innerHTML === '')) {
           document.body.innerHTML = `
              <div style="font-family: sans-serif; padding: 20px; text-align: center; color: #333; height: 100vh; display: flex; flex-direction: column; justify-content: center; align-items: center;">
                  <h1 style="color: #e11d48; font-size: 24px; margin-bottom: 10px;">Erro de Carregamento</h1>
                  <p>Ocorreu um erro crítico ao iniciar o aplicativo.</p>
                  <div style="background: #f1f5f9; padding: 15px; border-radius: 8px; margin: 20px 0; max-width: 800px; text-align: left; overflow: auto; font-family: monospace; font-size: 12px; color: #475569; border: 1px solid #e2e8f0;">
                      <strong>Error:</strong> ${e.message}<br/>
                      <small>${e.filename}:${e.lineno}</small>
                  </div>
                  <button onclick="window.location.reload()" style="background: #1e293b; color: white; border: none; padding: 10px 20px; border-radius: 6px; cursor: pointer;">Tentar Novamente</button>
              </div>
           `;
        }
      });

      window.addEventListener('unhandledrejection', function(e) {
        const root = document.getElementById('root');
        if (root && (!root.innerHTML || root.innerHTML === '')) {
            document.body.innerHTML = `
                <div style="font-family: sans-serif; padding: 20px; text-align: center; color: #333; height: 100vh; display: flex; flex-direction: column; justify-content: center; align-items: center;">
                    <h1 style="color: #e11d48; font-size: 24px; margin-bottom: 10px;">Erro de Módulo/Rede</h1>
                    <p>Falha ao carregar recursos essenciais (Provavelmente erro de importação ou CDN).</p>
                    <div style="background: #f1f5f9; padding: 15px; border-radius: 8px; margin: 20px 0; max-width: 800px; text-align: left; overflow: auto; font-family: monospace; font-size: 12px; color: #475569; border: 1px solid #e2e8f0;">
                        ${e.reason ? e.reason.toString() : 'Erro desconhecido na promessa'}
                    </div>
                    <button onclick="window.location.reload()" style="background: #1e293b; color: white; border: none; padding: 10px 20px; border-radius: 6px; cursor: pointer;">Tentar Novamente</button>
                </div>
            `;
        }
      });
    </script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
      body { font-family: 'Inter', sans-serif; }
      /* Custom scrollbar for chat */
      .scrollbar-hide::-webkit-scrollbar {
          display: none;
      }
      .scrollbar-hide {
          -ms-overflow-style: none;
          scrollbar-width: none;
      }
      .chat-bg {
        background-color: #E5DDD5;
        background-image: url("data:image/svg+xml,%3Csvg width='100' height='100' viewBox='0 0 100 100' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M15 15h10v10H15V15zm40 0h10v10H55V15zm40 0h5v10h-5V15zM15 55h10v10H15V55zm40 0h10v10H55V55zm20 20h10v10H75V75zm-40 0h10v10H35V75zM15 95h10v5H15v-5z' fill='%23cbcfd1' fill-opacity='0.2' fill-rule='evenodd'/%3E%3C/svg%3E");
      }
    </style>
  <script type="importmap">
{
  "imports": {
    "@google/genai": "https://aistudiocdn.com/@google/genai@^1.30.0",
    "lucide-react": "https://aistudiocdn.com/lucide-react@^0.555.0",
    "react/": "https://aistudiocdn.com/react@^19.2.0/",
    "react": "https://aistudiocdn.com/react@^19.2.0",
    "react-dom/": "https://aistudiocdn.com/react-dom@^19.2.0/"
  }
}
</script>
</head>
  <body class="bg-gray-50 h-screen overflow-hidden text-gray-900">
    <div id="root" class="h-full"></div>
  </body>
</html>